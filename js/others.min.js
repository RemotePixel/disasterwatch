$("#dateCheckbox").change(function(){if(this.checked){$("#disasterEndDate").attr("disabled","disabled")}else{$("#disasterEndDate").attr("disabled",false)}});$("#mailCheckbox").change(function(){if(this.checked){$("#disastermailTo").attr("disabled",false);$(".disaster-info .sat-filter input").attr("disabled",false)}else{$("#disastermailTo").attr("disabled","disabled");$(".disaster-info .sat-filter input").attr("disabled","disabled")}});function addType(c){var b=c.childNodes[0],d=document.getElementById("disasterType");if(d.getElementsByClassName(b.className).length!==0){var a=d.getElementsByClassName(b.className);d.removeChild(a[0]);c.childNodes[1].className="fa fa-check right-block"}else{c.childNodes[1].className="fa fa-check right-block-in";d.appendChild(b.cloneNode(true))}}function filterType(b){var a=b.childNodes[0],c=document.getElementById("disasterType2");c.innerHTML='<span class="caret"></span>'+a.outerHTML;filterListDisaster()}function filterListDisaster(){$(".list-disasters .list-element").removeClass("display-none");var a=$("#disasterType2 span[type='dtype']")[0].className;if(a==="all"){if(document.getElementById("event-checkbox").checked){$('.list-disasters .list-element[date-end!=""]').addClass("display-none")}}else{if(document.getElementById("event-checkbox").checked){$('.list-disasters .list-element[date-end!=""]').addClass("display-none");$('.list-disasters .list-element[dw-type!="'+a+'"]').addClass("display-none")}else{$('.list-disasters .list-element[dw-type!="'+a+'"]').addClass("display-none")}}}function filterListImage(){var b=$.map($(".disaster-images .sat-filter input:checked"),function(c){return c.getAttribute("data")}),a=$.map($(".disaster-images .sat-filter input"),function(c){return c.getAttribute("data")});a.forEach(function(c){if(b.indexOf(c)===-1){$('.img-preview div[sat="'+c+'"]').addClass("display-none")}else{$('.img-preview div[sat="'+c+'"]').removeClass("display-none")}})}function sortListImage(){var a=$(".img-preview").children();a.sort(sortScenes);a.detach().appendTo($(".img-preview"))}$("#event-checkbox").change(function(){$("#event-checkbox").parent().toggleClass("green");filterListDisaster()});$(".disaster-images .sat-filter input").change(function(){filterListImage()});function resetForm(){$('.disaster-info button[type="submit"]').attr("disabled",false);$('#disasterType span[type="dtype"]').remove();$(".disaster-info .dropdown-menu i").each(function(){$(this).removeClass("right-block-in");$(this).addClass("right-block")});$(".disaster-info input").val("");$(".disaster-info input[type=checkbox]").prop("checked",false);$(".disaster-info .sat-filter input").attr("disabled","disabled");$(".disaster-info .sat-filter input[type=checkbox]").prop("checked",true);$(".disaster-info .uuid").text("");$(".disaster-info textarea").val("");$(".disaster-info .error").removeClass("on");$("#disasterStartDate").datepicker("clearDates");$("#disasterEndDate").datepicker("clearDates");$(".disaster-info").scrollTop(0)}function openleftBlock(){$(".leftblock").addClass("in");$(".tab-selector-1").prop("checked",true);$("button[dwmenu]").each(function(){$(this).attr("disabled",true)});["#layers-panel","#layers-btn","#basemaps-panel","#basemaps-btn","#disasters-panel","#disasters-btn"].forEach(function(a){$(a).removeClass("on")});map.resize()}function openImagesSettings(){$(".opensettings").toggleClass("active");$(".disaster-images .sat-filter").toggleClass("active")}function closeleftblock(){$(".disaster-images .spin").addClass("display-none");$(".leftblock").removeClass("in");$("button[dwmenu]").each(function(){$(this).attr("disabled",false)});$(".tab-selector-1").prop("checked",true);$(".tab-selector-1").removeClass("out");$(".tab-selector-2").removeClass("out");$(".opensettings").removeClass("active");$(".disaster-images .sat-filter").removeClass("active");$(".img-preview").empty();resetForm();map.resize();draw.deleteAll()}function toggleHelp(){$(".dwhelp-block").toggleClass("on")}function toggleImageryOption(){$(".bottom-right-control").toggleClass("on")}function toggleSubscribe(){$(".subscribe-section").toggleClass("display-none")}function toggleSearch(){$(".geocoder-container").toggleClass("in");$(".geocoder-container input").focus()}function toggleParam(a){switch(a){case"basemaps":$("#basemaps-panel .side-view-content").scrollTop(0);$("#layers-panel").removeClass("on");$("#layers-btn").removeClass("on");$("#disasters-panel").removeClass("on");$("#disasters-btn").removeClass("on");$("#basemaps-panel").toggleClass("on");$("#basemaps-btn").toggleClass("on");break;case"layers":$("#basemaps-panel").removeClass("on");$("#basemaps-btn").removeClass("on");$("#disasters-panel").removeClass("on");$("#disasters-btn").removeClass("on");$("#layers-panel").toggleClass("on");$("#layers-btn").toggleClass("on");break;case"disasterslist":$("#disasters-panel .side-view-content").scrollTop(0);$("#basemaps-panel").removeClass("on");$("#basemaps-btn").removeClass("on");$("#layers-panel").removeClass("on");$("#layers-btn").removeClass("on");$("#disasters-panel").toggleClass("on");$("#disasters-btn").toggleClass("on");break;case"add":$("#layers-panel").removeClass("on");$("#layers-btn").removeClass("on");$("#basemaps-panel").removeClass("on");$("#basemaps-btn").removeClass("on");$("#disasters-panel").removeClass("on");$("#disasters-btn").removeClass("on");break;case null:break}}$(document).ready(function(){$("#disasterStartDate").datepicker({format:"yyyy-mm-dd",autoclose:true,todayHighlight:true,startDate:"2016-01-01",endDate:moment.utc().format("YYYY-MM-DD")}).on("changeDate",function(b){var a=moment(b.date).format("YYYY-MM-DD");$("#disasterEndDate").datepicker("setStartDate",a);$("#disasterEndDate").datepicker("setDate",a)});$("#disasterEndDate").datepicker({format:"yyyy-mm-dd",autoclose:true,todayHighlight:true,startDate:"2016-01-01",endDate:moment.utc().format("YYYY-MM-DD")});$(".date-button").datepicker({format:"yyyy-mm-dd",autoclose:true,todayHighlight:true,startDate:"2012-05-08",endDate:moment.utc().format("YYYY-MM-DD")}).on("changeDate",function(d){var c=moment(d.date).format("YYYY-MM-DD"),b=document.getElementsByClassName("link-on on")[0].parentElement.getAttribute("id");$(".date-button").text(c);if(moment(c).isBefore("2015-11-24")){var a=b.slice(0,5);if(a==="VIIRS"){changeOverlay("MODIS_Terra_CorrectedReflectance_TrueColor")}}update_basemaps()});$(".date-button").datepicker("setDate",moment.utc().subtract(1,"days").format("YYYY-MM-DD"));$("#slider").attr("disabled","disabled")});