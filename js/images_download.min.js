function feeddownloadS2(b,c){var a="http://sentinel-s2-l1c.s3.amazonaws.com/";$("#modalDownloadS2 .overview").attr("data-id",b);$("#modalDownloadS2 .overview").attr("data-prev",c);$("#modalDownloadS2 .dwn-bands").append('<span>Direct Download S2 band (Right Click on link)</span><a id="b1" target="_blank" href="'+a+b+'/B01.jp2" download>B1 - Coastal (60m)</a><a id="b2" target="_blank" href="'+a+b+'/B02.jp2" download>B2 - Blue (10m)</a><a id="b3" target="_blank" href="'+a+b+'/B03.jp2" download>B3 - Green (10m)</a><a id="b4" target="_blank" href="'+a+b+'/B04.jp2" download>B4 - Red (10m)</a><a id="b5" target="_blank" href="'+a+b+'/B05.jp2" download>B5 - Vegetation Classif 1 (20m)</a><a id="b6" target="_blank" href="'+a+b+'/B06.jp2" download>B6 - Vegetation Classif 2 (20m)</a><a id="b7" target="_blank" href="'+a+b+'/B07.jp2" download>B7 - Vegetation Classif 3 (20m)</a><a id="b8" target="_blank" href="'+a+b+'/B08.jp2" download>B8 - Near Infrared (10m)</a><a id="b9" target="_blank" href="'+a+b+'/B09.jp2" download>B9 - Water vapour (60m)</a><a id="b10" target="_blank" href="'+a+b+'/B10.jp2" download>B10 - Cirrus (60m)</a><a id="b11" target="_blank" href="'+a+b+'/B11.jp2" download>B11 - Thermal Infrared 1 (20m)</a><a id="b12" target="_blank" href="'+a+b+'/B12.jp2" download>B12 - Thermal Infrared 2 (20m)</a><a id="mtl" target="_blank" href="'+a+b+'/productInfo.json" download>Metadata</a>');$("#modalDownloadS2 .overview").html('<img src="'+c+'">');$("#modalDownloadS2").modal()}function feeddownloadL8(a,c){$("#modalDownloadL8 .overview").attr("data-id",c);$("#modalDownloadL8 .dwn-bands").append('<span>Direct Download L8 band (Right Click on link)</span><a id="b1" target="_blank" href="'+a+c+'_B1.TIF" download>B1 - Coastal aerosol</a><a id="b2" target="_blank" href="'+a+c+'_B2.TIF" download>B2 - Blue</a><a id="b3" target="_blank" href="'+a+c+'_B3.TIF" download>B3 - Green</a><a id="b4" target="_blank" href="'+a+c+'_B4.TIF" download>B4 - Red</a><a id="b5" target="_blank" href="'+a+c+'_B5.TIF" download>B5 - Near Infrared</a><a id="b6" target="_blank" href="'+a+c+'_B6.TIF" download>B6 - Shortwave Infrared 1</a><a id="b7" target="_blank" href="'+a+c+'_B7.TIF" download>B7 - Shortwave Infrared 2</a><a id="b8" target="_blank" href="'+a+c+'_B8.TIF" download>B8 - Panchromatic (15m)</a><a id="b9" target="_blank" href="'+a+c+'_B9.TIF" download>B9 - Cirrus</a><a id="b10" target="_blank" href="'+a+c+'_B10.TIF" download>B10 - Thermal Infrared 1</a><a id="b11" target="_blank" href="'+a+c+'_B11.TIF" download>B11 - Thermal Infrared 2</a><a id="bQA" target="_blank" href="'+a+c+'_BQA.TIF" download>BQA - Quality Assessment</a><a id="mtl" target="_blank" href="'+a+c+'_MTL.txt" download>MTL - Metadata</a>');var b={scene:c,bands:"[4,3,2]"};$.post("https://npj2g2bwcc.execute-api.us-west-2.amazonaws.com/landsat/overview",JSON.stringify({info:b})).done(function(d){if(!(d.hasOwnProperty("errorMessage"))){$("#modalDownloadL8 .overview").html('<img src="data:image/png;base64,'+d.data+'">')}else{$("#modalDownloadL8 .overview").html("<span>Preview Unavailable</span>")}}).fail(function(){$("#modalDownloadL8 .overview").html("<span>Preview Unavailable</span>")});$("#modalDownloadL8").modal()}$("#modalDownloadL8").on("shown.bs.modal",function(){$("#modalDownloadL8 .dropdown-menu li a").each(function(){$(this).removeClass("on")});$("#modalDownloadL8 .dropdown-menu li a").first().addClass("on");$("#modalDownloadL8 .dropdown .btn:first-child").html($("#modalDownloadL8 .dropdown-menu li a").first().text()+' <span class="caret"></span>')});$("#modalDownloadL8").on("hidden.bs.modal",function(){$("#modalDownloadL8 .dwn-bands").empty();$("#modalDownloadL8 .overview").attr("data-id","");$("#modalDownloadL8 .overview").html('<span><i class="fa fa-spinner fa-spin"></i></span>')});$("#modalDownloadS2").on("shown.bs.modal",function(){$("#modalDownloadS2 .dropdown-menu li a").each(function(){$(this).removeClass("on")});$("#modalDownloadS2 .dropdown-menu li a").first().addClass("on");$("#modalDownloadS2 .dropdown .btn:first-child").html($("#modalDownloadS2 .dropdown-menu li a").first().text()+' <span class="caret"></span>')});$("#modalDownloadS2").on("hidden.bs.modal",function(){$("#modalDownloadS2 .dwn-bands").empty();$("#modalDownloadS2 .overview").attr("data-id","");$("#modalDownloadS2 .overview").html('<span><i class="fa fa-spinner fa-spin"></i></span>')});$(function(){$("#modalDownloadS2 .dropdown-menu li a").click(function(){$("#modalDownloadS2 .overview").html('<span><i class="fa fa-spinner fa-spin"></i></span>');$("#modalDownloadS2 .dropdown .btn:first-child").html($(this).text()+' <span class="caret"></span>');var a={path:$("#modalDownloadS2 .overview").attr("data-id"),bands:$(this).parent().attr("data-bands")};if(a.bands==="[4,3,2]"){var b=$("#modalDownloadS2 .overview").attr("data-prev");$("#modalDownloadS2 .overview").html('<img src="'+b+'">')}else{$.post("https://6bu43holc0.execute-api.eu-central-1.amazonaws.com/prod/sentinel2_ovr",JSON.stringify({info:a})).done(function(c){if(!(c.hasOwnProperty("errorMessage"))){$("#modalDownloadS2 .overview").html('<img src="data:image/png;base64,'+c.data+'">')}else{$("#modalDownloadS2 .overview").html("<span>Preview Unavailable</span>")}}).fail(function(){$("#modalDownloadS2 .overview").html("<span>Preview Unavailable</span>")})}$("#modalDownloadS2 .dropdown-menu li a").each(function(){$(this).removeClass("on")});$(this).addClass("on")})});$(function(){$("#modalDownloadL8 .dropdown-menu li a").click(function(){$("#modalDownloadL8 .overview").html('<span><i class="fa fa-spinner fa-spin"></i></span>');$("#modalDownloadL8 .dropdown .btn:first-child").html($(this).text()+' <span class="caret"></span>');var a={scene:$("#modalDownloadL8 .overview").attr("data-id"),bands:$(this).parent().attr("data-bands")};$.post("https://npj2g2bwcc.execute-api.us-west-2.amazonaws.com/landsat/overview",JSON.stringify({info:a})).done(function(b){if(!(b.hasOwnProperty("errorMessage"))){$("#modalDownloadL8 .overview").html('<img src="data:image/png;base64,'+b.data+'">')}else{$("#modalDownloadL8 .overview").html("<span>Preview Unavailable</span>")}}).fail(function(){$("#modalDownloadL8 .overview").html("<span>Preview Unavailable</span>")});$("#modalDownloadL8 .dropdown-menu li a").each(function(){$(this).removeClass("on")});$(this).addClass("on")})});